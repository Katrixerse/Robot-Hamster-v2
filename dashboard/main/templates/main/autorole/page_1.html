{% load static %}

<div class="mx-3 d-flex flex-column">
    <span class="display-6 text-center">Autoroles</span>
    <br>
    <span class="fs-5 text-gray">Autorole is a feature that makes it so whenever a new user joins the server, one or more roles get added to them.</span>
</div>
<form action="#" method="post" class="my-5">
    {% csrf_token %}
    <div class="d-flex justify-content-center align-items-center gap-5">
        <div class="form-check form-switch">
            <span>Autorole enabled</span>
            {{ form.enabled }}
        </div>
        <div class="form-check form-input-group">
            <span>Add a new role</span>
            {{ form.add_new_role }}
        </div>
        <div class="form-check form-input-group">
            <span>Remove a role</span>
            {{ form.delete_role }}
        </div>
        <button type="submit" class="btn btn-warning">Change</button>
    </div>
    {% if form.errors %}
    {% for field in form %}
    {% for error in field.errors %}
    <div class="text-danger mt-1">
        <strong>{{ error|escape }}</strong>
    </div>
    {% endfor %}
    {% endfor %}
    {% endif %}
</form>
<div class="text-center d-flex flex-column justify-content-center align-items-center cur_roles" style="min-width: 35rem; max-width: 35rem;">
    <h1>Current Roles</h1>
    <span class="text-warning mb-2">They will get added when a new user joins</span>
    <table class="table table-striped table-dark">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
        </tr>
      </thead>
      <tbody>
        {% for r in roles %}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td style="color: {{r.color}} !important;">@{{r.name}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>